% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode
% !TEX spellcheck = en-US
% !TEX root = example.tex

% Simplified BSD License (c) 2013, Andrew Pinkham

\documentclass[a4paper,12pt]{article}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% IMPORTS

% surprisingly, the order of some of these matter
% the following order works for me using TeXlive from MacTeX
% no guarantees for anyone/anything else

% font imports
\usepackage[T1]{fontenc}
\usepackage{courier}

% colors
\usepackage{color, xcolor}

% packages for appropriately floating captions
\usepackage{floatrow}
% the hypcap option below ensures that references/links
% will land the user at the top of the listing,
% regardless of caption position
\usepackage[hypcap]{caption}

% allow for frames/borders around text
% using TikZ allows for rounded corners
\usepackage[framemethod=TikZ]{mdframed}

% display 'lorem ipsum' automagically
\usepackage{lipsum}

% used for code listing
% minted (imported below) does not provide inline code - this does
\usepackage{listings}

% highlight code automagically via Pygments
% code listings will be organized numerically by section
% as opposed to chapter
\usepackage[section]{minted}

% single quotes in Verbatim environments are output as single quotes
% (silly, ain't it?)
\usepackage{upquote}
% the following hack fixes upquote use with minted
% when running Pygments 1.6
\AtBeginDocument{%
\def\PYZsq{\textquotesingle}%
}

% allow for Verbatim text in captions
\usepackage{cprotect}

% underline text correctly
% specify 'normalem' so that emphasis blocks are not replaced with underlined text
% used to create command to custom color hyperref links
\usepackage[normalem]{ulem}

% conditional logic in new environments
\usepackage{xstring}

% allows for the creation of columns
% demonstrated when printing the table of contents
\usepackage{multicol}

% safely print URLs and create links
\usepackage[hidelinks]{hyperref}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% DEFINITIONS
\lstset{%
    basicstyle=\ttfamily,%
    columns=fixed,%
    showstringspaces=false,%
    showspaces=false%
}

% new colors
\definecolor{light-gray}{gray}{0.95}
\definecolor{codeFrame}{gray}{0.3}
\definecolor{codeBG}{gray}{0.99}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% COMMANDS

% shortcut for external links
% ex: \link{url}{text}
\newcommand{\link}[2]{\href{#1}{\color{blue}\uline{#2}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ENVRIONMENTS

% ASIDE BOX %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newmdenv[ %
		usetwoside=false,%
		nobreak=true,%
		roundcorner=7pt,%
		outerlinewidth=0.5pt,%
		linecolor=black,%
		skipabove=\topskip,%
		skipbelow=\topskip,%
		rightmargin=10pt,%
		leftmargin=10pt,%
		innertopmargin=\baselineskip,%
		innerbottommargin=\baselineskip,%
		innerrightmargin=10pt,%
		innerleftmargin=10pt,%  
		backgroundcolor=light-gray,%
		]{asidebox}

\newenvironment{aside}[1][Default]
    { %
      \begin{samepage} %
      \begin{asidebox}[frametitle=Aside - {#1}] %
    }
    {\end{asidebox}\end{samepage}}
